# Markdown Toolkit 优化建议清单

记录时间：2026-02-26

## 最新进展（2026-02-26）

- 已实现「专注查看模式」：
  - 图表区域双击进入/退出专注模式
  - 工具栏 `Focus` 按钮进入/退出专注模式
  - 进入后自动适配视口，`Esc` 可退出
- 「Fit Width / Fit Page」独立按钮仍可作为后续增强项保留。

## 高收益 / 低成本（优先）

1. **适配视图能力**
   - 增加 `Fit Width` / `Fit Page` 按钮
   - 双击图表自动适配

2. **交互参数可配置**
   - 缩放步长、最小/最大倍率
   - 是否必须 `Ctrl/Cmd + 滚轮` 才触发缩放

3. **键盘可操作性**
   - `+ / - / 0`：放大、缩小、重置
   - 方向键：平移画布

## 中等成本（体验进阶）

4. **视角状态持久化**
   - 记住每个 Mermaid 图的缩放比例与滚动位置
   - 预览刷新后恢复用户视角

5. **可视区域渲染**
   - 仅渲染当前可见图表
   - 优化大文档性能与滚动流畅度

6. **增量重渲染**
   - 仅对变更的 Mermaid 代码块重渲染
   - 降低编辑时的抖动和重算成本

## 进阶功能（可选）

7. **导出与复制**
   - `Copy SVG` / `Export PNG` / `Copy Mermaid Source`

8. **错误面板增强**
   - 展示 Mermaid 错误位置（行号）
   - 支持一键跳转到源码位置

9. **主题联动**
   - 跟随 VS Code 主题自动切换 Mermaid 主题
   - 支持手动覆盖主题

## 建议的第一批实施组合

推荐先做：**1 + 2 + 5**  
理由：开发成本可控，且对日常预览体验提升最明显。
